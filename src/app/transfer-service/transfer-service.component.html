<app-navbar></app-navbar>

<div class="transfer-service-container carte">
  <h1>Transfer Service</h1>

  <div>
    <!-- <label for="reference">Reference:</label><br /> -->
    <input
      placeholder="Reference"
      type="text"
      id="reference"
      [(ngModel)]="reference"
    />
    <button (click)="searchTransfer()" class="chercher">Search Transfer</button>
  </div>

  <div *ngIf="orderIssuer && transferInfo">
    <div class="summary">
      <h3>Order Issuer Information</h3>
      <div class="mini-container">
        <p>
          ID Agent/Wallet:<b>
          {{ orderIssuer.agentId || orderIssuer.wallet }}</b>
        </p>

        <p>Full Name: <b>{{ orderIssuer.fullName }}</b></p>
        <p> Date of Emission: <b>{{ orderIssuer.emissionDate }}</b></p>
      </div>
      
    
      <h3>Transfer Information:</h3>
      <div class="mini-container">
        <p>
          Amount to Serve: <b>{{ transferInfo.amount }}</b>
        </p>
        <p>
          Beneficiary Name: <b>{{ transferInfo.beneficiaryFullName }}</b>
        </p>
      </div>
    </div>

    <div *ngIf="!beneficiaryInfo">
      <!-- <label for="beneficiaryName">Beneficiary Name:</label> -->
      <input placeholder="Beneficiary Name"
        type="text"
        id="beneficiaryName"
        
        [(ngModel)]="verifyName"
      />
      <!-- Ajoutez d'autres champs KYC ici -->

      <div>
        <button (click)="validatePayment()">Validate Payment</button>
      </div>
      <div>
        <h2>{{ message }}</h2>
      </div>
    </div>
    
  </div>

  <div *ngIf="errorMessage" class="error-message">{{ errorMessage }}</div>
</div>
